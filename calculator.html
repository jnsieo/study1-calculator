<!doctype html>
<html>
  <head>
    <title>계산기</title>
  </head>
  <body>
    <h1 id="title">계산기</h1>
    <h2 id="display"></h2>

    <button class="num">1</button>
    <button class="num">2</button>
    <button class="num">3</button>
    <button class="num">4</button>
    <button class="num">5</button>
    <button class="num">6</button>
    <button class="num">7</button>
    <button class="num">8</button>
    <button class="num">9</button>
    <button class="num">0</button>

    <button class="operator">+</button>
    <button class="operator">-</button>
    <button class="operator">*</button>
    <button class="operator">/</button>

    <button id="result">=</button>

    <script>
      const display = document.querySelector("#display");
      const numbers = document.querySelectorAll(".num");
      const operators = document.querySelectorAll(".operator");
      const result = document.querySelector("#result");

      let currentNumber = "";
      let previousNumber = "";
      let operator = null;

      numbers.forEach(function (button) {
        button.addEventListener("click", function () {
          currentNumber += button.textContent;

          if (operator === null) {
            display.textContent = currentNumber;
          } else {
            display.textContent =
              previousNumber + " " + operator + " " + currentNumber;
          }
        });
      });

      operators.forEach(function (button) {
        button.addEventListener("click", function () {
          if (previousNumber === "") {
            previousNumber = currentNumber;
          } else {
            previousNumber = calculate(previousNumber, currentNumber, operator);
          }
          operator = button.textContent;
          currentNumber = "";
          display.textContent = previousNumber + " " + operator;
        });
      });
      result.addEventListener("click", function () {
        if (previousNumber === "" || currentNumber === "") return;

        const answer = calculate(previousNumber, currentNumber, operator);
        display.textContent = answer;

        currentNumber = answer.toString();
        previousNumber = "";
        operator = null;
      });
      function calculate(a, b, operator) {
        a = Number(a);
        b = Number(b);

        if (operator === "+") return a + b;
        if (operator === "-") return a - b;
        if (operator === "*") return a * b;
        if (operator === "/") return a / b;
      }
    </script>
  </body>
</html>
